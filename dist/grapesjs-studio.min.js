/*! grapesjs-studio - 0.0.1 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["grapesjs-studio"]=t():e["grapesjs-studio"]=t()}(window,function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(e);var t=e.items.map(function(e){return'<option value="'+e.value+'" title="'+e.value+'">'+e.text+"</option>"}).join(""),n=!1!==e.hasEmpty?'<option value="">${params.placeholder}</option>':"";return e.content='<select name="'+e.name+'" class="form-control">'+n+t+"</select>",o(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e.label),n=i(e.content),a=e.labelCol||2;return'<div class="form-group"><label class="control-label col-sm-'+a+'">'+t+'</label><div class="col-sm-'+(e.inputCol||12-a)+'">'+n+"</div></div>"}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=i(e.name),e.type=i(e.type)||"text",e.placeholder=i(e.placeholder),e.value=i(e.value),e}function i(e){return null==e?"":e}t.default={getClassSelect:function(e,t){return r(a({name:"class",label:Helper.L10n.translate("Class"),items:e?e.classes.map(function(e){return{value:e.getName(),text:e.getTitle()}}):[]},t))},getSelect:r,getInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(e),e.content='<input name="'+e.name+'" type="'+e.type+'" value="'+value+'" placeholder="'+e.placeholder+'" class="form-control">',o(e)},getButton:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'<button type="button" class="btn btn-sm '+(i(e.css)||"btn-default")+'">'+e.text+"</button>"},createForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createElement("div");return t.className="form form-horizontal",t.innerHTML=e.content,t},wrapForm:function(e){return'<div class="form form-horizontal">'+e+"</div>"},wrapFormFooter:function(e){return'<div class="form-footer">'+e+"</div>"},wrapFormAttr:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=l(n(2)),o=l(n(18));function l(e){return e&&e.__esModule?e:{default:e}}t.default=grapesjs.plugins.add("grapesjs-studio",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a({},t);(0,r.default)(e,n),(0,o.default)(e,n)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(3)),r=i(n(10)),o=i(n(14)),l=i(n(16));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(e,t),(0,r.default)(e,t),(0,o.default)(e,t),(0,l.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(4)),r=c(n(5)),o=c(n(6)),l=c(n(7)),i=c(n(8)),s=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e,t),(0,o.default)(e,t),(0,l.default)(e,t),(0,i.default)(e,t),(0,s.default)(e,t),(0,a.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function r(e,t){var n=function(e,t){return t.map(r.bind(this,e)).join("")}(e,t.items);return'<div class="tree-menu-item '+(n?" has-children":"")+'">\n    <div class="tree-menu-item-head">\n      <a class="tree-menu-item-title" href="'+function(e,t){if(e instanceof Studio.NavItemModel){var n=e.getUrl();if(n)return n;var a=e.getInterface()||t;if(a){n=a.getUrl()+"?n="+e.getFullName();var r=e.getClass();return r?n+"&cls="+r.getName():n}}return"javascript:void(0)"}(t,e)+'">'+t.getTitle()+'</a>\n      <i class="tree-menu-item-toggle"></i>\n    </div>\n    <div class="tree-menu-children">'+n+"</div>\n  </div>"}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.DomComponents,o=t.studio,l=n.getType("default");n.addType("treeMenu",{model:l.model.extend({defaults:a({},l.model.prototype.defaults,{draggable:!0,droppable:!1}),init:function(){this.addClass("tree-menu")}},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu")?{type:"treeMenu"}:null}}),view:l.view.extend({init:function(){var e=o.getActiveApp(),t=this.model.components();!t.length&&e&&t.add(function(e,t){return t.map(function(e,t){return r(e,t)}.bind(this,e)).join("")}(o.getActiveInterface(),e.navSections))}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.DomComponents,r=(t.studio,n.getType("default"));n.addType("treeMenuItem",{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!1,droppable:!1,copyable:!1})},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu-item")?{type:"treeMenuItem"}:null}}),view:r.view.extend({})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="treeMenuChildren",r=e.DomComponents,o=(t.studio,r.getType("default"));r.addType(n,{model:o.model.extend({defaults:a({},o.model.prototype.defaults,{draggable:!1,droppable:!1,copyable:!1})},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu-children")?{type:n}:null}}),view:o.view.extend({})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t="treeMenuItemHead",n=e.DomComponents,r=n.getType("default");n.addType(t,{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!1,droppable:!1,copyable:!1})},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu-item-head")?{type:t}:null}}),view:r.view.extend({})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t="treeMenuItemTitle",n=e.DomComponents,r=n.getType("link");n.addType(t,{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!1,droppable:!1})},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu-item-title")?{type:t}:null}}),view:r.view.extend({events:{click:"onClick"},onClick:function(e){$(this.el).closest(".tree-menu-item").addClass("opened")}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t="treeMenuItemToggle",n=e.DomComponents,r=n.getType("default");n.addType(t,{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!1,droppable:!1,copyable:!1})},{isComponent:function(e){return e.classList&&e.classList.contains("tree-menu-item-toggle")?{type:t}:null}}),view:r.view.extend({events:{click:"onClick"},onClick:function(e){$(this.el).closest(".tree-menu-item").toggleClass("opened")}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(11)),r=l(n(12)),o=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e,t),(0,a.default)(e,t),(0,o.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t="listSearchSubmit",n=e.DomComponents,r=n.getType("link");n.addType(t,{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!0,droppable:!1,copyable:!1,traits:[{type:"content",label:Helper.L10n.translate("Text")}]})},{isComponent:function(e){return e.classList&&e.classList.contains("list-search-submit")?{type:t}:null}}),view:r.view.extend({})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t="listSearchInput",n=e.DomComponents,r=n.getType("link");n.addType(t,{model:r.model.extend({defaults:a({},r.model.prototype.defaults,{draggable:!0,droppable:!1,copyable:!1,traits:[{type:"input",name:"placeholder",label:Helper.L10n.translate("Text")}]})},{isComponent:function(e){return e.classList&&e.classList.contains("list-search-input")?{type:t}:null}}),view:r.view.extend({})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0);(a=o)&&a.__esModule;t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.DomComponents,n=t.getType("default");t.addType("listSearch",{model:n.model.extend({defaults:r({},n.model.prototype.defaults,{draggable:!0,droppable:!1,traits:[{type:"input",label:Helper.L10n.translate("Placeholder"),name:"placeholder"}]}),init:function(){this.addClass("list-search")}},{isComponent:function(e){return e.classList&&e.classList.contains("list-search")?{type:"listSearch"}:null}}),view:n.view.extend({init:function(){var e=this.model.components();if(!e.length){e.add('<input type="text" class="list-search-input">');var t=Helper.L10n.translate("Search");e.add('<button type="button" class="list-search-submit">'+t+"</button>")}}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(15),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),l=(a=o)&&a.__esModule?a:{default:a};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.DomComponents,a=e.Modal,o=t.studio,i=n.getType("default");n.addType("objectList",{model:i.model.extend({defaults:r({},i.model.prototype.defaults,{draggable:!0,droppable:!1,copyable:!1}),init:function(){this.addClass("object-list")}},{isComponent:function(e){return e.classList&&e.classList.contains("object-list")?{type:"objectList"}:null}}),view:i.view.extend({init:function(){this.model.components().length||this.listenTo(this.model,"active",this.openModal)},openModal:function(){var e=this,t=o.getActiveApp(),n=l.default.getClassSelect(t),r=l.default.getButton({text:Helper.L10n.translate("Create"),css:"btn-success btn-submit"});n+=l.default.wrapFormFooter(r);var i=l.default.createForm({content:n}),s=$(i);s.find(".btn-submit").click(function(n){var r=t.getClassByName(s.find('[name="class"]').val());r&&(e.createList(r),a.close())});var c=Helper.L10n.translate("New object list");a.setTitle(c).setContent(i).open(),Helper.select2(s.find("select"))},createList:function(e){var t=this.model.components(),n=e.getListView(),a={attrs:[]},r="",o="";n.attrs.forEach(function(e){a.attrs.push({name:e.getName()}),r+='<th name="'+e.getName()+'"><div>'+e.getTitle()+"</div></th>",o+="<td><div>"+e.getTypeTitle()+"</div></td>"}),this.model.setAttributes({"data-class":e.getName(),"data-url":"#objectListUrl","data-params":JSON.stringify(a)}),t.add('<table class="table"><thead><tr>'+r+"</tr></thead><tbody><tr>"+o+"</tr></tbody></table>")}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(17),o=(a=r)&&a.__esModule?a:{default:a};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),l=(a=o)&&a.__esModule?a:{default:a};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.DomComponents,a=e.Modal,o=t.studio,i=n.getType("default");n.addType("objectForm",{model:i.model.extend({defaults:r({},i.model.prototype.defaults,{draggable:!0,droppable:!1,copyable:!1}),init:function(){this.addClass("object-form")}},{isComponent:function(e){return e.classList&&e.classList.contains("object-form")?{type:"objectForm"}:null}}),view:i.view.extend({init:function(){this.model.components().length||this.listenTo(this.model,"active",this.openModal)},openModal:function(){var e=this,t=o.getActiveApp(),n=this.getViewSelect();n+=l.default.getClassSelect(t);var r=l.default.getButton({text:Helper.L10n.translate("Create"),css:"btn-success btn-submit"});n+=l.default.wrapFormFooter(r);var i=l.default.createForm({content:n}),s=$(i);s.find(".btn-submit").click(function(n){var r=t.getClassByName(s.find('[name="class"]').val()),o=r&&r.getViewByName(s.find('[name="view"]').val());o&&(e.createForm(o),a.close())});var c=Helper.L10n.translate("New object form");a.setTitle(c).setContent(i).open(),Helper.select2(s.find("select"))},getViewSelect:function(){return l.default.getSelect({name:"view",label:Helper.L10n.translate("View"),hasEmpty:!1,items:[{value:"create",text:Helper.L10n.translate("Creation form")},{value:"item",text:Helper.L10n.translate("Edit form")}]})},createForm:function(e){var t=this.model.components(),n={attrs:[]};e.attrs.forEach(function(e){n.attrs.push({name:e.getName()})}),this.model.setAttributes({"data-class":e.cls.getName(),"data-view":e.getName(),"data-params":JSON.stringify(n)}),e.setGroupChildren();var a='<input type="hidden" name="cmd" value="'+("create"===e.getName()?"create":"update")+'">';a+=this.createItems(e.getRootItems()),t.add('<form action="#objectFormUrl" method="post" class="form form-horizontal">'+a+"</form>")},createItems:function(e){var t="",n="";if(e instanceof Array){var a=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var s=l.value;s instanceof Studio.ClassViewAttrModel?t+=this.createAttr(s):s.isTab()?(n+=this.createTab(s,!n),t+=this.createTabContent(s,!n)):t+=this.createGroup(s)}}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}}return this.wrapTab(n,t)},wrapTab:function(e,t){return e?'<div data-tabs="1"><nav class="tab-container" data-tab-container="1">'+e+"</nav>"+t+"</div>":t},createTab:function(e,t){return'<a class="tab '+(t=t?"tab-active":"")+'" href="#tab-'+e.getName()+'" data-tab="1">'+e.getTitle()+"</a>"},createTabContent:function(e,t){return t=t?"block":"none",'<div class="tab-content" id="tab-'+e.getName()+'" data-tab-content="1" style="display:'+t+'">\n          '+this.createItems(e.children)+"\n        </div>"},createGroup:function(e){e.getTitle();return'<fieldset class="form-set" data-name="'+e.getName()+'">\n          <legend>'+e.getTitle()+"</legend>\n          "+this.createItems(e.children)+"  \n        </fieldset>"},createAttr:function(e){return'<div class="form-group '+(e.isRequired()?" required":"")+'" data-name="'+e.getName()+'">\n          <label class="control-label col-sm-3">'+e.getTitle()+'</label>\n          <div class="col-sm-9">\n            '+this.createAttrValue(e)+"\n          </div>\n        </div>"},createAttrValue:function(e){switch(e.getType()){case"4":return this.createBooleanValue(e);case"5":return this.createSelectValue(e);case"7":return this.createTextValue(e)}return this.createStringValue(e)},createBooleanValue:function(e){return'<input type="checkbox" class="value" name="data('+e.getName()+')">'},createSelectValue:function(e){return'<select class="form-control value" name="data('+e.getName()+')">\n          <option>'+e.getTypeTitle()+"</option>\n          <option>Value 1</option>\n          <option>Value 2</option>\n        </select>"},createTextValue:function(e){return'<textarea rows="4" class="form-control value" name="data('+e.getName()+')"></textarea>'},createStringValue:function(e){return'<input type="text" rows="4" class="form-control value" name="data('+e.getName()+')" value="'+e.getTypeTitle()+'">'}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.BlockManager,r=(e.DomComponents,t.category||"Meta blocks");n.add("treeMenu",a({label:"Navigation",attributes:{title:"Tree menu",class:"fa fa-ellipsis-v"},category:r,content:{type:"treeMenu"}},t.treeMenu.block)),n.add("listSearch",a({label:"List search",attributes:{class:"fa fa-search",title:"List search"},category:r,content:{type:"listSearch"}},t.listSearch.block)),n.add("objectList",a({label:"Object list",attributes:{title:"Object list",class:"fa fa-list"},category:r,content:{type:"objectList",activeOnRender:!0}},t.objectList.block)),n.add("objectForm",a({label:"Object form",attributes:{class:"fa fa-edit",title:"Object form"},category:r,content:{type:"objectForm",activeOnRender:!0}},t.objectForm.block))}}])});
//# sourceMappingURL=grapesjs-studio.min.js.map