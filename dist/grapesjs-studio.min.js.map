{"version":3,"sources":["webpack://grapesjs-studio/webpack/universalModuleDefinition","webpack://grapesjs-studio/webpack/bootstrap","webpack://grapesjs-studio/./src/helpers/html.js","webpack://grapesjs-studio/./src/index.js","webpack://grapesjs-studio/./src/components.js","webpack://grapesjs-studio/./src/tree-menu/index.js","webpack://grapesjs-studio/./src/tree-menu/Menu.js","webpack://grapesjs-studio/./src/tree-menu/Item.js","webpack://grapesjs-studio/./src/tree-menu/ItemChildren.js","webpack://grapesjs-studio/./src/tree-menu/ItemHead.js","webpack://grapesjs-studio/./src/tree-menu/ItemTitle.js","webpack://grapesjs-studio/./src/tree-menu/ItemToggle.js","webpack://grapesjs-studio/./src/list-search/index.js","webpack://grapesjs-studio/./src/list-search/Submit.js","webpack://grapesjs-studio/./src/list-search/Input.js","webpack://grapesjs-studio/./src/list-search/Search.js","webpack://grapesjs-studio/./src/object-list/index.js","webpack://grapesjs-studio/./src/object-list/List.js","webpack://grapesjs-studio/./src/object-form/index.js","webpack://grapesjs-studio/./src/object-form/Form.js","webpack://grapesjs-studio/./src/blocks.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getSelect","params","arguments","length","undefined","normalizeParams","options","items","map","item","text","join","placeholder","hasEmpty","content","wrapFormAttr","label","stringifyEmpty","labelCol","inputCol","type","getClassSelect","app","Helper","L10n","translate","classes","model","getName","getTitle","getInput","getButton","css","createForm","form","document","createElement","className","innerHTML","wrapForm","wrapFormFooter","grapesjs","plugins","add","editor","config","_components2","default","_blocks2","_treeMenu2","_listSearch2","_objectList2","_objectForm2","_Item2","_ItemChildren2","_ItemHead2","_ItemTitle2","_ItemToggle2","_Menu2","renderMenuItem","activeInterface","children","this","renderMenuChildren","Studio","NavItemModel","url","getUrl","face","getInterface","getFullName","cls","getClass","getItemUrl","dc","DomComponents","studio","baseType","getType","addType","extend","defaults","draggable","droppable","init","addClass","isComponent","el","classList","contains","view","getActiveApp","components","sections","section","renderMenu","getActiveInterface","navSections","copyable","events","click","onClick","event","$","closest","toggleClass","_Input2","_Submit2","_Search2","traits","_html","_List","_List2","modal","Modal","listenTo","openModal","_this","htmlHelper","btns","$form","find","getClassByName","val","createList","close","title","setTitle","setContent","open","select2","getListView","attrs","thead","tbody","forEach","attr","push","getTypeTitle","setAttributes","data-class","data-url","data-params","JSON","stringify","_Form","_Form2","getViewSelect","getViewByName","data-view","setGroupChildren","createItems","getRootItems","result","resultTab","Array","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","ClassViewAttrModel","createAttr","isTab","createTab","createTabContent","createGroup","err","return","wrapTab","tab","active","group","isRequired","createAttrValue","createBooleanValue","createSelectValue","createTextValue","createStringValue","bm","BlockManager","category","_extends","attributes","class","treeMenu","block","listSearch","activeOnRender","objectList","objectForm"],"mappings":"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","file":"../../static/frontend/grapesjs-studio/grapesjs-studio.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-studio\"] = factory();\n\telse\n\t\troot[\"grapesjs-studio\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\r\nexport default {\r\n\r\n  getClassSelect,\r\n  getSelect,\r\n  getInput,\r\n  getButton,\r\n\r\n  createForm,\r\n\r\n  wrapForm,\r\n  wrapFormFooter,\r\n  wrapFormAttr\r\n}\r\n\r\nfunction getClassSelect (app, params) {\r\n  return getSelect({\r\n    'name': 'class',\r\n    'label': Helper.L10n.translate('Class'),\r\n    'items': app ? app.classes.map(model => ({\r\n      'value': model.getName(),\r\n      'text': model.getTitle()\r\n    })) : [],\r\n    ...params\r\n  });\r\n}\r\n\r\nfunction getSelect (params = {}) {\r\n  normalizeParams(params);\r\n  let options = params.items.map(item => {\r\n    return `<option value=\"${item.value}\" title=\"${item.value}\">${item.text}</option>`;\r\n  }).join('');\r\n  let hasEmpty = params.hasEmpty !== false;\r\n  let placeholder = hasEmpty ? '<option value=\"\">${params.placeholder}</option>' : '';\r\n  params.content = `<select name=\"${params.name}\" class=\"form-control\">${placeholder}${options}</select>`;\r\n  return wrapFormAttr(params);\r\n}\r\n\r\nfunction getInput (params = {}) {\r\n  normalizeParams(params);\r\n  params.content = `<input name=\"${params.name}\" type=\"${params.type}\" value=\"${value}\" placeholder=\"${params.placeholder}\" class=\"form-control\">`;\r\n  return wrapFormAttr(params);\r\n}\r\n\r\nfunction getButton (params = {}) {\r\n  let css = stringifyEmpty(params.css) || 'btn-default';\r\n  return `<button type=\"button\" class=\"btn btn-sm ${css}\">${params.text}</button>`;\r\n}\r\n\r\nfunction createForm (params = {}) {\r\n  let form = document.createElement('div');\r\n  form.className = 'form form-horizontal';\r\n  form.innerHTML = params.content;\r\n  return form;\r\n}\r\n\r\nfunction wrapForm (content) {\r\n  return `<div class=\"form form-horizontal\">${content}</div>`;\r\n}\r\n\r\nfunction wrapFormAttr (params = {}) {\r\n  let label = stringifyEmpty(params.label);\r\n  let content = stringifyEmpty(params.content);\r\n  let labelCol = params.labelCol || 2;\r\n  let inputCol = params.inputCol || (12 - labelCol);\r\n  return `<div class=\"form-group\"><label class=\"control-label col-sm-${labelCol}\">${label}</label><div class=\"col-sm-${inputCol}\">${content}</div></div>`;\r\n}\r\n\r\nfunction wrapFormFooter (content) {\r\n  return `<div class=\"form-footer\">${content}</div>`;\r\n}\r\n\r\nfunction normalizeParams (params = {}) {\r\n  params.name = stringifyEmpty(params.name);\r\n  params.type = stringifyEmpty(params.type) || 'text';\r\n  params.placeholder = stringifyEmpty(params.placeholder);\r\n  params.value = stringifyEmpty(params.value);\r\n  return params;\r\n}\r\n\r\nfunction stringifyEmpty (value) {\r\n  return value === undefined || value === null ? '' : value;\r\n}","import loadComponents from './components';\r\nimport loadBlocks from './blocks';\r\n\r\nexport default grapesjs.plugins.add('grapesjs-studio', (editor, config = {}) => {\r\n\r\n  const options = {\r\n    ...config\r\n  };\r\n\r\n  loadComponents(editor, options);\r\n  loadBlocks(editor, options);\r\n});\r\n","\r\nimport TreeMenu from './tree-menu';\r\nimport ListSearch from './list-search';\r\nimport ObjectList from './object-list';\r\nimport ObjectForm from './object-form';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  TreeMenu(editor, config);\r\n  ListSearch(editor, config);\r\n  ObjectList(editor, config);\r\n  ObjectForm(editor, config);\r\n}","\r\nimport Menu from './Menu';\r\nimport Item from './Item';\r\nimport ItemChildren from './ItemChildren';\r\nimport ItemHead from './ItemHead';\r\nimport ItemTitle from './ItemTitle';\r\nimport ItemToggle from './ItemToggle';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  Item(editor, config);\r\n  ItemChildren(editor, config);\r\n  ItemHead(editor, config);\r\n  ItemTitle(editor, config);\r\n  ItemToggle(editor, config);\r\n  Menu(editor, config);\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenu';\r\n  const dc = editor.DomComponents;\r\n  const studio = config.studio;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false\r\n      },\r\n      init () {\r\n        this.addClass('tree-menu');\r\n      },\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu') ? {type} : null\r\n    }),\r\n    'view': baseType.view.extend({\r\n      init() {\r\n        let app = studio.getActiveApp();\r\n        let components = this.model.components();\r\n        if (!components.length && app) {\r\n          components.add(renderMenu(studio.getActiveInterface(), app.navSections));\r\n        }\r\n      },\r\n    })\r\n  });\r\n}\r\n\r\nfunction renderMenu (activeInterface, sections) {\r\n  return sections.map(renderMenuSection.bind(this, activeInterface)).join('');\r\n}\r\n\r\nfunction renderMenuSection (activeInterface, section) {\r\n  return renderMenuItem(activeInterface, section);\r\n}\r\n\r\nfunction renderMenuItem (activeInterface, item) {\r\n  let children = renderMenuChildren(activeInterface, item.items);\r\n  let hasChildren = children ? ' has-children' : '';\r\n  let url = getItemUrl(item, activeInterface);\r\n  return `<div class=\"tree-menu-item ${hasChildren}\">\r\n    <div class=\"tree-menu-item-head\">\r\n      <a class=\"tree-menu-item-title\" href=\"${url}\">${item.getTitle()}</a>\r\n      <i class=\"tree-menu-item-toggle\"></i>\r\n    </div>\r\n    <div class=\"tree-menu-children\">${children}</div>\r\n  </div>`;\r\n}\r\n\r\nfunction renderMenuChildren (activeInterface, items) {\r\n  return items.map(renderMenuItem.bind(this, activeInterface)).join('');\r\n}\r\n\r\nfunction getItemUrl (item, activeInterface) {\r\n  if (item instanceof Studio.NavItemModel) {\r\n    let url = item.getUrl();\r\n    if (url) {\r\n      return url;\r\n    }\r\n    let face = item.getInterface() || activeInterface;\r\n    if (face) {\r\n      url = `${face.getUrl()}?n=${item.getFullName()}`;\r\n      let cls = item.getClass();\r\n      return cls ? `${url}&cls=${cls.getName()}` : url;\r\n    }\r\n  }\r\n  return 'javascript:void(0)';\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenuItem';\r\n  const dc = editor.DomComponents;\r\n  const studio = config.studio;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: false,\r\n        droppable: false,\r\n        copyable: false,\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu-item') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n\r\n    })\r\n  });\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenuChildren';\r\n  const dc = editor.DomComponents;\r\n  const studio = config.studio;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: false,\r\n        droppable: false,\r\n        copyable: false,\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu-children') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n\r\n    })\r\n  });\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenuItemHead';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: false,\r\n        droppable: false,\r\n        copyable: false,\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu-item-head') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n\r\n    })\r\n  });\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenuItemTitle';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('link');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: false,\r\n        droppable: false,\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu-item-title') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n      events: {\r\n        click: 'onClick',\r\n      },\r\n      onClick (event) {\r\n        $(this.el).closest('.tree-menu-item').addClass('opened');\r\n      },\r\n    })\r\n  });\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'treeMenuItemToggle';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: false,\r\n        droppable: false,\r\n        copyable: false,\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('tree-menu-item-toggle') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n      events: {\r\n        click: 'onClick',\r\n      },\r\n      onClick (event) {\r\n        $(this.el).closest('.tree-menu-item').toggleClass('opened');\r\n      },\r\n    })\r\n  });\r\n}","\r\nimport Submit from './Submit';\r\nimport Input from './Input';\r\nimport Search from './Search';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  Input(editor, config);\r\n  Submit(editor, config);\r\n  Search(editor, config);\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'listSearchSubmit';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('link');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false,\r\n        copyable: false,\r\n        traits: [{\r\n          type: 'content',\r\n          label: Helper.L10n.translate('Text'),\r\n        }],\r\n      },\r\n\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('list-search-submit') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n\r\n    })\r\n  });\r\n}","\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'listSearchInput';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('link');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false,\r\n        copyable: false,\r\n        traits: [{\r\n          type: 'input',\r\n          name: 'placeholder',\r\n          label: Helper.L10n.translate('Text'),\r\n        }],\r\n      },\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('list-search-input') ? {type} : null\r\n    }),\r\n\r\n    'view': baseType.view.extend({\r\n\r\n    })\r\n  });\r\n}","\r\nimport htmlHelper from '../helpers/html';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'listSearch';\r\n  const dc = editor.DomComponents;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false,\r\n        traits: [{\r\n          type: 'input',\r\n          label: Helper.L10n.translate('Placeholder'),\r\n          name: 'placeholder'\r\n        }],\r\n      },\r\n      init () {\r\n        this.addClass('list-search');\r\n      },\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('list-search') ? {type} : null\r\n    }),\r\n    'view': baseType.view.extend({\r\n      init() {\r\n        let components = this.model.components();\r\n        if (!components.length) {\r\n          components.add('<input type=\"text\" class=\"list-search-input\">');\r\n          let text = Helper.L10n.translate('Search');\r\n          components.add(`<button type=\"button\" class=\"list-search-submit\">${text}</button>`);\r\n        }\r\n      },\r\n    })\r\n  });\r\n}","\r\nimport List from './List';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  List(editor, config);\r\n}","\r\nimport htmlHelper from '../helpers/html';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'objectList';\r\n  const dc = editor.DomComponents;\r\n  const modal = editor.Modal;\r\n  const studio = config.studio;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false,\r\n        copyable: false,\r\n        /*\r\n        traits: [{\r\n          type: 'select',\r\n          label: Helper.L10n.translate('Class'),\r\n          name: 'class',\r\n          options: [],\r\n        }],//*/\r\n      },\r\n      init () {\r\n        this.addClass('object-list');\r\n        /*\r\n        this.app = studio.getActiveApp();\r\n        let classTrait = this.get('traits').where({name: 'class'})[0];\r\n        if (classTrait) {\r\n          classTrait.set('options', [{value:'val1',name:'name1'}]);\r\n          editor.TraitManager.getTraitsViewer().render();\r\n        }*/\r\n      }\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('object-list') ? {type} : null\r\n    }),\r\n    'view': baseType.view.extend({\r\n      init() {\r\n        let components = this.model.components();\r\n        if (!components.length) {\r\n          this.listenTo(this.model, 'active', this.openModal);\r\n        }\r\n      },\r\n\r\n      openModal() {\r\n        let app = studio.getActiveApp();\r\n        let content = htmlHelper.getClassSelect(app);\r\n        let btns = htmlHelper.getButton({\r\n          'text': Helper.L10n.translate('Create'),\r\n          'css': 'btn-success btn-submit'\r\n        });\r\n        content += htmlHelper.wrapFormFooter(btns);\r\n        let form = htmlHelper.createForm({content});\r\n        let $form = $(form);\r\n        $form.find('.btn-submit').click(event => {\r\n          let cls = app.getClassByName($form.find('[name=\"class\"]').val());\r\n          if (cls) {\r\n            this.createList(cls);\r\n            modal.close();\r\n          }\r\n        });\r\n        let title = Helper.L10n.translate('New object list');\r\n        modal.setTitle(title).setContent(form).open();\r\n        Helper.select2($form.find('select'));\r\n      },\r\n\r\n      createList (cls) {\r\n        let components = this.model.components();\r\n        let view = cls.getListView();\r\n        let params = {\r\n          attrs: []\r\n        };\r\n        let thead = '';\r\n        let tbody = '';\r\n        view.attrs.forEach(attr => {\r\n          params.attrs.push({\r\n            'name': attr.getName()\r\n          });\r\n          thead += `<th name=\"${attr.getName()}\"><div>${attr.getTitle()}</div></th>`;\r\n          tbody += `<td><div>${attr.getTypeTitle()}</div></td>`;\r\n        });\r\n        this.model.setAttributes({\r\n          'data-class': cls.getName(),\r\n          'data-url': '#objectListUrl',\r\n          'data-params': JSON.stringify(params)\r\n        });\r\n        components.add(`<table class=\"table\"><thead><tr>${thead}</tr></thead><tbody><tr>${tbody}</tr></tbody></table>`);\r\n        //this.render()\r\n      }\r\n    })\r\n  });\r\n}","\r\nimport Form from './Form';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  Form(editor, config);\r\n}","\r\nimport htmlHelper from '../helpers/html';\r\n\r\nexport default (editor, config = {}) => {\r\n\r\n  const type = 'objectForm';\r\n  const dc = editor.DomComponents;\r\n  const modal = editor.Modal;\r\n  const studio = config.studio;\r\n  const baseType = dc.getType('default');\r\n\r\n  dc.addType(type, {\r\n    'model': baseType.model.extend({\r\n      defaults: {\r\n        ...baseType.model.prototype.defaults,\r\n        draggable: true,\r\n        droppable: false,\r\n        copyable: false\r\n      },\r\n      init () {\r\n        this.addClass('object-form');\r\n      }\r\n    },{\r\n      'isComponent': el => el.classList && el.classList.contains('object-form') ? {type} : null\r\n    }),\r\n    'view': baseType.view.extend({\r\n      init() {\r\n        let components = this.model.components();\r\n        if (!components.length) {\r\n          this.listenTo(this.model, 'active', this.openModal);\r\n        }\r\n      },\r\n\r\n      openModal() {\r\n        let app = studio.getActiveApp();\r\n        let content = this.getViewSelect();\r\n        content += htmlHelper.getClassSelect(app);\r\n        let btns = htmlHelper.getButton({\r\n          text: Helper.L10n.translate('Create'),\r\n          css: 'btn-success btn-submit'\r\n        });\r\n        content += htmlHelper.wrapFormFooter(btns);\r\n        let form = htmlHelper.createForm({content});\r\n        let $form = $(form);\r\n        $form.find('.btn-submit').click(event => {\r\n          let cls = app.getClassByName($form.find('[name=\"class\"]').val());\r\n          let view = cls && cls.getViewByName($form.find('[name=\"view\"]').val());\r\n          if (view) {\r\n            this.createForm(view);\r\n            modal.close();\r\n          }\r\n        });\r\n        let title = Helper.L10n.translate('New object form');\r\n        modal.setTitle(title).setContent(form).open();\r\n        Helper.select2($form.find('select'));\r\n      },\r\n\r\n      getViewSelect () {\r\n        return htmlHelper.getSelect({\r\n          'name': 'view',\r\n          'label': Helper.L10n.translate('View'),\r\n          'hasEmpty': false,\r\n          'items': [{\r\n            'value': 'create',\r\n            'text': Helper.L10n.translate('Creation form')\r\n          }, {\r\n            'value': 'item',\r\n            'text': Helper.L10n.translate('Edit form')\r\n          }]\r\n        });\r\n      },\r\n\r\n      createForm (view) {\r\n        let components = this.model.components();\r\n        let params = {\r\n          attrs: []\r\n        };\r\n        view.attrs.forEach(attr => {\r\n          params.attrs.push({\r\n            'name': attr.getName()\r\n          });\r\n        });\r\n        this.model.setAttributes({\r\n          'data-class': view.cls.getName(),\r\n          'data-view': view.getName(),\r\n          'data-params': JSON.stringify(params)\r\n        });\r\n        view.setGroupChildren();\r\n        let cmd = view.getName() === 'create' ? 'create' : 'update';\r\n        let content = `<input type=\"hidden\" name=\"cmd\" value=\"${cmd}\">`;\r\n        content += this.createItems(view.getRootItems());\r\n        components.add(`<form action=\"#objectFormUrl\" method=\"post\" class=\"form form-horizontal\">${content}</form>`);\r\n      },\r\n\r\n      createItems (items) {\r\n        var result = '';\r\n        var resultTab = '';\r\n        if (items instanceof Array) {\r\n          for (let item of items) {\r\n            if (item instanceof Studio.ClassViewAttrModel) {\r\n              result += this.createAttr(item);\r\n            } else if (item.isTab()) {\r\n              resultTab += this.createTab(item, !resultTab);\r\n              result += this.createTabContent(item, !resultTab);\r\n            } else {\r\n              result += this.createGroup(item);\r\n            }\r\n          }\r\n        }\r\n        return this.wrapTab(resultTab, result);\r\n      },\r\n\r\n      wrapTab (resultTab, result) {\r\n        return resultTab\r\n          ? `<div data-tabs=\"1\"><nav class=\"tab-container\" data-tab-container=\"1\">${resultTab}</nav>${result}</div>`\r\n          : result;\r\n      },\r\n\r\n      createTab: function (tab, active) {\r\n        active = active ? 'tab-active' : '';\r\n        return `<a class=\"tab ${active}\" href=\"#tab-${tab.getName()}\" data-tab=\"1\">${tab.getTitle()}</a>`;\r\n      },\r\n\r\n      createTabContent: function (tab, active) {\r\n        active = active ? 'block' : 'none';\r\n        return `<div class=\"tab-content\" id=\"tab-${tab.getName()}\" data-tab-content=\"1\" style=\"display:${active}\">\r\n          ${this.createItems(tab.children)}\r\n        </div>`;\r\n      },\r\n\r\n      createGroup: function (group) {\r\n        let title = group.getTitle();\r\n        return `<fieldset class=\"form-set\" data-name=\"${group.getName()}\">\r\n          <legend>${group.getTitle()}</legend>\r\n          ${this.createItems(group.children)}  \r\n        </fieldset>`;\r\n      },\r\n\r\n      createAttr: function (attr) {\r\n        let required = attr.isRequired() ? ' required' : '';\r\n        return `<div class=\"form-group ${required}\" data-name=\"${attr.getName()}\">\r\n          <label class=\"control-label col-sm-3\">${attr.getTitle()}</label>\r\n          <div class=\"col-sm-9\">\r\n            ${this.createAttrValue(attr)}\r\n          </div>\r\n        </div>`;\r\n      },\r\n\r\n      createAttrValue (attr) {\r\n        switch (attr.getType()) {\r\n          case '4': return this.createBooleanValue(attr);\r\n          case '5': return this.createSelectValue(attr);\r\n          case '7': return this.createTextValue(attr);\r\n        }\r\n        return this.createStringValue(attr);\r\n      },\r\n\r\n      createBooleanValue (attr) {\r\n        return `<input type=\"checkbox\" class=\"value\" name=\"data(${attr.getName()})\">`;\r\n      },\r\n\r\n      createSelectValue (attr) {\r\n        return `<select class=\"form-control value\" name=\"data(${attr.getName()})\">\r\n          <option>${attr.getTypeTitle()}</option>\r\n          <option>Value 1</option>\r\n          <option>Value 2</option>\r\n        </select>`;\r\n      },\r\n\r\n      createTextValue (attr) {\r\n        return `<textarea rows=\"4\" class=\"form-control value\" name=\"data(${attr.getName()})\"></textarea>`;\r\n      },\r\n\r\n      createStringValue (attr) {\r\n        return `<input type=\"text\" rows=\"4\" class=\"form-control value\" name=\"data(${attr.getName()})\" value=\"${attr.getTypeTitle()}\">`;\r\n      },\r\n\r\n    })\r\n  });\r\n}\r\n","\r\nexport default (editor, config = {}) => {\r\n\r\n  const bm = editor.BlockManager;\r\n  const dc = editor.DomComponents;\r\n  const category = config.category || 'Meta blocks';\r\n\r\n  bm.add('treeMenu', {\r\n    label: 'Navigation',\r\n    attributes: {\r\n      'title': 'Tree menu',\r\n      'class': 'fa fa-ellipsis-v'\r\n    },\r\n    category,\r\n    content: {\r\n      type: 'treeMenu'\r\n    },\r\n    ...config.treeMenu.block\r\n  });\r\n\r\n  bm.add('listSearch', {\r\n    label: 'List search',\r\n    attributes: {\r\n      'class': 'fa fa-search',\r\n      'title': 'List search',\r\n    },\r\n    category,\r\n    content: {\r\n      type: 'listSearch'\r\n    },\r\n    ...config.listSearch.block\r\n  });\r\n\r\n  bm.add('objectList', {\r\n    label: 'Object list',\r\n    attributes: {\r\n      'title': 'Object list',\r\n      'class': 'fa fa-list'\r\n    },\r\n    category,\r\n    content: {\r\n      type: 'objectList',\r\n      activeOnRender: true\r\n    },\r\n    ...config.objectList.block\r\n  });\r\n\r\n\r\n  bm.add('objectForm', {\r\n    label: 'Object form',\r\n    attributes: {\r\n      'class': 'fa fa-edit',\r\n      'title': 'Object form',\r\n    },\r\n    category,\r\n    content: {\r\n      type: 'objectForm',\r\n      activeOnRender: true\r\n    },\r\n    ...config.objectForm.block\r\n  });\r\n}\r\n"],"sourceRoot":""}